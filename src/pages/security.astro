---
import { getCollection } from 'astro:content';
import Img from '@tina/components/Img.astro';
import ImgBlock from '@tina/components/ImgBlock.astro';
import Layout from '@/layouts/Layout.astro';
import ProseContent from '@/shared/ui/ProseContent/ProseContent.astro';

const pages = await getCollection('pages');
const page = pages.find((p) => p.slug === 'security');

if (!page) {
	throw new Error('Page not found');
}

const { Content } = await page.render();
const mdxComponents = { Img, ImgBlock };
---

<Layout
	title={page.data.title}
	description={page.data.description}
	isFollow={page.data.isFollow}
>
	<article class="bg-gray overflow-hidden">
		<div class="mt-10 md:px-8 md:mt-20">
			<h2 class="text-[24px] leading-7 font-bold mb-4 md:text-[44px] md:leading-13 md:mb-8 text-primary">
				{page.data.title}
			</h2>
			<ProseContent>
				<Content components={mdxComponents} />
			</ProseContent>
		</div>
	</article>
</Layout>
