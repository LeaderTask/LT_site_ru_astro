---
import { getCollection } from 'astro:content';
import Layout from '@/layouts/Layout.astro';
import PlatformHeroBlock from '@/widgets/PlatformHeroBlock/PlatformHeroBlock.astro';
import KeyFeaturesPlatforms from '@/widgets/KeyFeaturesPlatforms/KeyFeaturesPlatforms.astro';
import PlatformDevices from '@/widgets/PlatformDevices/PlatformDevices.astro';
import PlatformsSlider from '@/widgets/PlatformsSlider/PlatformsSlider.astro';
import { HERO_BLOCK_PLATFORM_PAGES, FEATURES_BLOCK_PLATFORM_PAGES, SLIDER_ITEMS_PLATFORM_PAGES } from '@/shared/const';

const pages = await getCollection('pages');
const page = pages.find((p) => p.slug === 'platforms/web');
---

<Layout
	title={page?.data.title || 'Web App | LeaderTask'}
	description={page?.data.description}
	isFollow={page?.data.isFollow}
>
	<PlatformHeroBlock
		slot="full-width"
		heroBlock={HERO_BLOCK_PLATFORM_PAGES.webApp}
	/>
	<KeyFeaturesPlatforms features={FEATURES_BLOCK_PLATFORM_PAGES.webApp} />
	<PlatformsSlider
		sliderItems={SLIDER_ITEMS_PLATFORM_PAGES.webApp}
		sliderId="platforms-swiper-web"
	/>
	<PlatformDevices currentPagePlatform="web" />
</Layout>
