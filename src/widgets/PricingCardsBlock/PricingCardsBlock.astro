---
import PricingCard from '@/widgets/PricingCard/PricingCard.astro';

interface Feature {
	title: string;
	description: string;
}

type PlanType = 'free' | 'premium' | 'business';

interface Plan {
	title: string;
	subtitle: string;
	price: number;
	priceDescription: string;
	buttonText: string;
	featuresTitle: string;
	features: Feature[];
	planType: PlanType;
}

const FREE_FEATURES: Feature[] = [
	{ title: 'До 100 карточек', description: 'Визуализируйте личные цели и организуйте работу команды' },
	{ title: 'До 10 проектов', description: 'Разделяйте задачи на личные, рабочие или другие категории' },
	{ title: 'До 3 досок', description: 'Визуализируйте цели на Kanban-доске' },
	{ title: 'Уведомления', description: 'Получайте напоминания о предстоящих задачах, встречах и событиях' },
	{ title: 'Календарь', description: 'Планируйте дни и управляйте временем визуально' },
];

const PREMIUM_FEATURES: Feature[] = [
	{ title: 'Без ограничений', description: 'Задачи, проекты, доски, метки и цвета' },
	{ title: 'Синхронизация', description: 'Создавайте задачи на телефоне и выполняйте их на ноутбуке' },
	{ title: 'Вложения', description: 'Добавляйте документы, изображения и голосовые заметки к задачам' },
	{ title: 'Повторяющиеся задачи', description: 'Повторяйте ежедневно, еженедельно, ежемесячно или ежегодно' },
	{ title: 'Корзина', description: 'Восстанавливайте удаленные данные и работайте спокойно — ничего не теряется' },
	{ title: 'Облачное хранилище', description: '2 ГБ' },
	{ title: 'Интеграция с Telegram', description: 'Создавайте и управляйте задачами прямо из Telegram' },
];

const BUSINESS_FEATURES: Feature[] = [
	{ title: 'Назначения', description: 'Делегируйте задачи коллегам и отслеживайте их прогресс' },
	{ title: 'Общие проекты', description: 'Работайте вместе с командой над общей целью' },
	{ title: 'Общие доски', description: 'Визуализируйте рабочий процесс и прогресс команды' },
	{ title: 'История активности', description: 'Отслеживайте обновления задач и перемещения карточек со временем' },
];

const PLANS: Plan[] = [
	{
		title: 'Бесплатный',
		subtitle: 'Только на одном устройстве',
		price: 0,
		priceDescription: 'в год',
		buttonText: 'Попробовать',
		featuresTitle: 'Бесплатно навсегда',
		features: FREE_FEATURES,
		planType: 'free',
	},
	{
		title: 'Premium',
		subtitle: 'Только для личного использования',
		price: 3199,
		priceDescription: 'в год',
		buttonText: 'Подписаться',
		featuresTitle: 'Возможности бесплатного тарифа, плюс:',
		features: PREMIUM_FEATURES,
		planType: 'premium',
	},
	{
		title: 'Business',
		subtitle: 'Для командной работы (2+ пользователя)',
		price: 4999,
		priceDescription: 'в год',
		buttonText: 'Подписаться',
		featuresTitle: 'Возможности тарифа Premium, плюс:',
		features: BUSINESS_FEATURES,
		planType: 'business',
	},
];
---

<div class="grid grid-cols-1 md:grid-cols-3 md:gap-8 gap-6 mb-10 md:mb-15">
	{
		PLANS.map((plan) => (
			<PricingCard
				title={plan.title}
				subtitle={plan.subtitle}
				price={plan.price}
				priceDescription={plan.priceDescription}
				buttonText={plan.buttonText}
				featuresTitle={plan.featuresTitle}
				features={plan.features}
				planType={plan.planType}
			/>
		))
	}
</div>
